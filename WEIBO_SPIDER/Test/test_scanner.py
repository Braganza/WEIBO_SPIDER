#-*- coding: UTF-8 -*-
import unittest
import re

import sys
sys.path.append("D:\code\Project\Web\WEIBO_SPIDER\WEIBO_SPIDER\Sourse")
import scanner

class test_user(unittest.TestCase):
    def setUp(self):
        return super(test_user, self).setUp()
    def tearDown(self):
        return super(test_user, self).tearDown()
    def test_regex_topic_pattern(self):
        string = "                                                                                <a target=\"_blank\" render=\"ext\" suda-uatrack=\"key=topic_click&value=click_topic\" class=\"a_topic\" extra-data=\"type=topic\" href=\"http://huati.weibo.com/k/%E4%BB%99%E5%89%91%E5%A5%87%E4%BE%A0%E4%BC%A0?from=501\">#?ɽ???????#</a>??????6λԭ?????ǣ????ҽ?????????һ???Թ??ߵĽǶ?ȥ???ۿ?????Ϸ?ľ??飬??????һ???????ߵ?????ȥ?ƶ????µķ?չ??                            </div>"
        result = re.search(scanner.topic_pattern_, string)

        self.assertEqual(result.group(1), "#?ɽ???????#")
        self.assertEqual(result.group(2), "??????6λԭ?????ǣ????ҽ?????????һ???Թ??ߵĽǶ?ȥ???ۿ?????Ϸ?ľ??飬??????һ???????ߵ?????ȥ?ƶ????µķ?չ??                            ")
    def test_regex_notopic_pattern(self):
        pass

if __name__ == "__main__":
    unittest.main()

        

   